import{_ as N,o as _,c as p,a as s,F as $,j as D,i as S,g as d,h as C,k as V,w as F,t as h,e as B,b as y,u as b,l as R,p as A,d as E}from"./index-e23eb081.js";import{u as O,_ as j}from"./Volver-e72e76dc.js";const G=["disabled"],J=["disabled"],T={__name:"Paginacion",props:{id:{type:Number,required:!0},disabledPrev:{type:Boolean,default:!1},disabledNext:{type:Boolean,default:!1}},emits:["getDataPrev","getDataNext"],setup(n,{emit:u}){const r=n;return(f,a)=>(_(),p($,null,[s("button",{disabled:r.disabledPrev,onClick:a[0]||(a[0]=o=>u("getDataPrev"))}," Anterior ",8,G),s("button",{disabled:r.disabledNext,onClick:a[1]||(a[1]=o=>u("getDataNext"))}," Siguiente ",8,J)],64))}},q=N(T,[["__scopeId","data-v-fd16f4c1"]]);const v=n=>(A("data-v-d6398ac5"),n=n(),E(),n),H={key:0},K=v(()=>s("h1",null,"Cargando…",-1)),M=[K],z={key:1},L=v(()=>s("h1",null,"Error de conexión",-1)),Q=v(()=>s("p",null,"Hubo un problema al obtener el artículo. Prueba a recargar o vuelve más tarde.",-1)),U=[L,Q],W={key:2},X=["src"],Y=v(()=>s("strong",null,"Precio:",-1)),Z={__name:"ArticuloView",setup(n){const u=D(),r=S(),f=d(u.params.articulo),a=C(()=>{const e=Number(f.value);return Number.isInteger(e)&&e>0?e:null}),o=d(null),c=d(!1),l=d(!1);async function g(){if(l.value=!0,c.value=!1,o.value=null,a.value===null){r.replace({name:"NotFound"}),l.value=!1;return}const e=a.value;try{const t=await fetch(`https://fakestoreapi.com/products/${e}`);if(t.status===404){r.replace({name:"NotFound"});return}if(!t.ok){const m=await t.text();console.error("Respuesta no OK:",t.status,m),c.value=!0;return}const i=await t.text();if(!i||i.trim()===""){console.error("Respuesta con body vacío:",t.status),r.replace({name:"NotFound"});return}let x;try{x=JSON.parse(i)}catch(m){console.error("Error parseando JSON:",m,"body:",i),c.value=!0;return}o.value=x}catch(t){console.error("Fetch error:",t),c.value=!0}finally{l.value=!1}}V(g),F(()=>u.params.articulo,e=>{f.value=e,g()});const P=O();function k(){o.value&&P.add(o.value)}function w(){const e=a.value;if(e&&e>1){const t=e-1;r.push(`/${t}`)}}function I(){const e=a.value;if(e&&e<20){const t=e+1;r.push(`/${t}`)}}return(e,t)=>l.value?(_(),p("div",H,M)):c.value?(_(),p("div",z,U)):o.value?(_(),p("div",W,[s("h2",null,h(o.value.title),1),s("img",{src:o.value.image,alt:"Imagen producto",width:"250",height:"250"},null,8,X),s("p",null,h(o.value.description),1),s("p",null,[Y,B(" $"+h(o.value.price),1)]),s("button",{class:"button is-primary",onClick:k},"Comprar"),y(j),y(q,{id:b(a)??1,onGetDataPrev:w,onGetDataNext:I,"disabled-prev":!(b(a)>1),"disabled-next":!(b(a)<20)},null,8,["id","disabled-prev","disabled-next"])])):R("",!0)}},ae=N(Z,[["__scopeId","data-v-d6398ac5"]]);export{ae as default};
